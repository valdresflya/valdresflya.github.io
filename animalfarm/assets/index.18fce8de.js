var Re=Object.defineProperty;var Te=(_,e,t)=>e in _?Re(_,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):_[e]=t;var c=(_,e,t)=>(Te(_,typeof e!="symbol"?e+"":e,t),t);import{v as Je,G as ye,S as Oe,i as Se,s as qe,P as Qe,e as h,a as x,c as He,t as ge,b as l,d as ue,f as i,g as V,m as Be,l as L,h as he,j as xe,k as Ne,n as je,o as de,p as De,r as Ue,q as Ve}from"./vendor.97e0a2f1.js";const We=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const d of n)if(d.type==="childList")for(const a of d.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const d={};return n.integrity&&(d.integrity=n.integrity),n.referrerpolicy&&(d.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?d.credentials="include":n.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(n){if(n.ep)return;n.ep=!0;const d=t(n);fetch(n.href,d)}};We();class Xe{constructor({pos_x:e=0,pos_y:t=0,pos_z:s=0,size_x:n=0,size_y:d=0,size_z:a=0}){c(this,"__id",Je());c(this,"_pos_x");c(this,"_pos_y");c(this,"_pos_z");c(this,"_size_x");c(this,"_size_y");c(this,"_size_z");c(this,"_move_dir",Math.random()*360*Math.PI/180);c(this,"_color",[255,255,255]);c(this,"_name");this._pos_x=e,this._pos_y=t,this._pos_z=s,this._size_x=n,this._size_y=d,this._size_z=a}get move_dir(){return this._move_dir}set move_dir(e){this._move_dir=e*Math.PI/180}get color(){return this._color}set color(e){this._color=e}get name(){return this._name}get position(){return{x:this._pos_x,y:this._pos_y,z:this._pos_z}}get size(){return{x:this._size_x,y:this._size_y,z:this._size_z}}move({x:e=0,y:t=0,z:s=0}){this._pos_x=this._pos_x+e,this._pos_y=this._pos_y+t,this._pos_z=this._pos_z+s}grow({x:e=0,y:t=0,z:s=0}){this._size_x=this._size_x+e,this._size_y=this._size_y+t,this._size_z=this._size_z+s}discrete_pos_x(e,t){let s=this._pos_x;return s<0?s=0:s>=t&&(s=t-1),Math.floor(s/t*e)}discrete_pos_y(e,t){let s=this._pos_y;return s<0?s=0:s>=t&&(s=t-1),Math.floor(s/t*e)}}class Ye extends Xe{constructor({pos_x:e=0,pos_y:t=0,pos_z:s=0,size_x:n=0,size_y:d=0,size_z:a=0,oxygen:v="unknown",breed:p="unknown",born:f=-1,speed:y=0}){super({pos_x:e,pos_y:t,pos_z:s,size_x:n,size_y:d,size_z:a});c(this,"_alive",!0);c(this,"_born");c(this,"_max_age",100);c(this,"_died",-1);c(this,"_oxygen");c(this,"_breed");c(this,"_speed");c(this,"_followed_by");this._oxygen=v,this._breed=p,this._born=f,this._speed=y}get alive(){return this._alive}get born(){return this._born}get max_age(){return this._max_age}get died(){return this._died}get oxygen(){return this._oxygen}get breed(){return this._breed}get speed(){return this._speed}get followed_by(){return this._followed_by}set followed_by(e){this._followed_by=e}die(e){this._alive==!0&&(this._alive=!1,this._speed=0,e&&(this._died=e))}}class Fe extends Ye{constructor({pos_x:e=0,pos_y:t=0,pos_z:s=0,size_x:n=0,size_y:d=0,size_z:a=0,oxygen:v="unknown",carnivore:p=!1,food:f=[],name:y="unknown",breed:w="unknown",born:k=-1,animal_type:b="unknown",latin:z="unknown",speed:K=1,sex:S="unknown"}){super({pos_x:e,pos_y:t,pos_z:s,size_x:n,size_y:d,size_z:a,oxygen:v,breed:w,born:k});c(this,"_carnivore");c(this,"_food");c(this,"_sex");c(this,"_animal_type");c(this,"_latin");c(this,"_reproduced",-50);c(this,"_reproduce_time",50);c(this,"_hungry",!0);c(this,"_horny",!1);c(this,"_follows");c(this,"_stamina",100);c(this,"_recover",-100);c(this,"_recovery_time",100);this._carnivore=p,this._food=f,this._name=y,this._sex=S,this._animal_type=b,this._latin=z,this._speed=K}get carnivor(){return this._carnivore}get food(){return this._food}get sex(){return this._sex}get animal_type(){return this._animal_type}get latin(){return this._latin}get reproduced(){return this._reproduced}set reproduced(e){this._reproduced=e}get reproduce_time(){return this._reproduce_time}get hungry(){return this._hungry}set hungry(e){this._hungry=e}get horny(){return this._horny}set horny(e){this._horny=e}get follows(){return this._follows}set follows(e){this._follows=e}get stamina(){return this._stamina}set stamina(e){this._stamina=e}eat_meat(){this._carnivore=!0}go_vegan(){this._carnivore=!1}add_to_diet(e){this._food.push(e)}edges({width:e,height:t}){this.position.x>=e-this.size.x/2?(this._pos_x=e-this.size.x/2,this.move_dir=90+this.move_dir*180/Math.PI):this.position.x<=this.size.x/2&&(this._pos_x=this.size.x/2,this.move_dir=90+this.move_dir*180/Math.PI),this.position.y>=t-this.size.y/2?(this._pos_y=t-this.size.y/2,this.move_dir=360-this.move_dir*180/Math.PI):this.position.y<=this.size.y/2&&(this._pos_y=this.size.y/2,this.move_dir=360-this.move_dir*180/Math.PI)}walk({width:e,height:t,speed_manipulator:s=1}){this.edges({width:e,height:t});let n=Math.cos(this.move_dir)*this.speed*s,d=Math.sin(this.move_dir)*this.speed*s;this.move({x:n,y:d})}change_direction({direction:e=0}){this.move_dir=this.move_dir*180/Math.PI+e}in_recovery(e){return e-this._recover<=this._recovery_time}move_towards(e,t){t-this._recover>this._recovery_time&&(this._stamina>0&&e.alive?(this.move_dir=Math.atan2(e.position.y-this.position.y,e.position.x-this.position.x)*180/Math.PI,this.follows=e,e.followed_by=this,this._stamina-=1):(this.follows=null,this._stamina==0&&(this._recover=t,this._stamina=100)))}move_away(e){this.move_dir=Math.atan2(-e.position.y+this.position.y,-e.position.x+this.position.x)*180/Math.PI}do_you_eat(e){let t;return this._food.includes(e.name)&&this._carnivore==!0?t=!0:t=!1,t}eat(e,t){let s=!1;return this.do_you_eat(e)==!0&&e.alive==!0&&(e.die(t),s=!0,this.follows=null),s}could_you_reproduce(e){let t;return this.constructor.name==e.constructor.name&&e.sex=="male"&&this._sex=="female"&&(this._breed="sexual")?t=!0:t=!1,t}reproduce(e,t){return console.log("This was an Error"),Error}}function Ze({f_prob:_=.45,m_prob:e=.45}){let t=Math.random(),s="unknown";return t<=_?s="female":t>e+_?s="non-binary":s="male",s}class ce extends Fe{constructor({pos_x:e=0,pos_y:t=0,pos_z:s=0,size_x:n=20,size_y:d=20,size_z:a=17,carnivore:v=!1,food:p=[],speed:f=2,born:y=-1,name:w="unknown",latin:k="unknown"}){let b=Ze({f_prob:.45,m_prob:.45});super({pos_x:e,pos_y:t,pos_z:s,size_x:n,size_y:d,size_z:a,carnivore:v,food:p,name:w,speed:f,latin:k,born:y,sex:b,oxygen:"lungs",breed:"sexual"});c(this,"_mother");c(this,"_father")}reproduction_details(e,t){this._mother=this,this._father=e,this.reproduced=t}reproduce(e,t){let s=new ce({pos_x:this.position.x,pos_y:this.position.y,pos_z:this.position.z,born:t});return this.reproduction_details(e,t),s}}class Ke extends ce{constructor({pos_x:e=0,pos_y:t=0,pos_z:s=0,size_x:n=20,size_y:d=20,size_z:a=17,carnivore:v=!1,food:p=[],speed:f=1,name:y="unknown",sex:w="unknown",latin:k="unknown",born:b=-1}){p.push("Banana");super({pos_x:e,pos_y:t,pos_z:s,size_x:n,size_y:d,size_z:a,carnivore:v,food:p,name:y,sex:w,speed:f,latin:k,born:b,animal_type:"Primate"})}}class we extends Ke{constructor({pos_x:e=Math.random()*1e3,pos_y:t=Math.random()*500,pos_z:s=0,size_x:n=10,size_y:d=10,size_z:a=5,carnivore:v=!1,food:p=[],born:f=-1}){super({pos_x:e,pos_y:t,pos_z:s,size_x:n,size_y:d,size_z:a,carnivore:v,food:p,born:f,name:"Gorilla",latin:"Gorilla Gorilla",speed:2});c(this,"age_distr",new ye(1e4,200));this.color=[15,156,34],this._max_age=this.age_distr.ppf(Math.random()),this._reproduce_time=100}reproduce(e,t){let s=new we({pos_x:this.position.x,pos_y:this.position.y,pos_z:this.position.z,size_x:this.size.x*.9,size_y:this.size.y*.9,born:t});return this.reproduction_details(e,t),s}}class be extends Ke{constructor({pos_x:e=Math.random()*1e3,pos_y:t=Math.random()*500,pos_z:s=0,size_x:n=8,size_y:d=8,size_z:a=3,carnivore:v=!0,food:p=[],born:f=-1}){p.push("Gorilla");super({pos_x:e,pos_y:t,pos_z:s,size_x:n,size_y:d,size_z:a,carnivore:v,food:p,born:f,name:"Human",latin:"Homo Sapiens",speed:1});c(this,"age_distr",new ye(1e4,Math.pow(100,2)));this.color=[255,0,255],this._max_age=this.age_distr.ppf(Math.random()),this._reproduce_time=200}reproduce(e,t){let s=new be({pos_x:this.position.x,pos_y:this.position.y,pos_z:this.position.z,born:t});return this.reproduction_details(e,t),s}}class $e extends ce{constructor({pos_x:e=Math.random()*1e3,pos_y:t=Math.random()*500,pos_z:s=0,size_x:n=15,size_y:d=15,size_z:a=17,carnivore:v=!0,food:p=[],name:f="unknown",born:y=-1}){p.push("Human");super({pos_x:e,pos_y:t,pos_z:s,size_x:n,size_y:d,size_z:a,carnivore:v,food:p,name:f,born:y,latin:"Panthera Leo",speed:2});c(this,"age_distr",new ye(5e3,Math.pow(100,2)));this.color=[204,102,0],this._max_age=this.age_distr.ppf(Math.random()),this._reproduce_time=200}}function et(_){let e,t,s,n,d,a,v,p,f,y,w,k,b,z,K,S,H,X,B,Y,N,Z,R,q,$,W,ee,C,te,P,r,o,u,m,A,I,M,pe,ze,T,se,ke,ie,fe,Me,J,oe,Ce,ne,me,Pe,Q,re,Ie,le,j,Ge,U,ae,Le,_e,D,F,ve,Ae;return q=new Qe({props:{sketch:_[9]}}),{c(){e=h("div"),t=h("div"),s=h("div"),n=h("label"),n.textContent="Create animals",d=x(),a=h("ul"),v=h("li"),p=h("input"),f=x(),y=h("li"),w=h("a"),w.textContent="Human",k=x(),b=h("li"),z=h("a"),z.textContent="Gorilla",K=x(),S=h("li"),H=h("a"),H.textContent="Lions",X=x(),B=h("button"),B.textContent=`Check Array: ${tt}`,Y=x(),N=h("button"),N.textContent="Breed",Z=x(),R=h("div"),He(q.$$.fragment),$=x(),W=h("div"),ee=x(),C=h("input"),te=x(),P=h("input"),r=x(),o=h("div"),u=h("div"),m=h("div"),A=h("div"),A.textContent="Step",I=x(),M=h("div"),pe=ge(_[5]),ze=x(),T=h("div"),se=h("div"),se.textContent="Produced",ke=x(),ie=h("div"),fe=ge(_[0]),Me=x(),J=h("div"),oe=h("div"),oe.textContent="Died",Ce=x(),ne=h("div"),me=ge(_[1]),Pe=x(),Q=h("div"),re=h("div"),re.textContent="Grid",Ie=x(),le=h("div"),j=h("input"),Ge=x(),U=h("div"),ae=h("div"),ae.textContent="Connector",Le=x(),_e=h("div"),D=h("input"),l(n,"tabindex","0"),l(n,"class","m-1 btn"),l(p,"type","number"),l(p,"min","1"),l(p,"max","10000"),l(p,"class","input input-bordered input-primary w-full max-w-xs"),l(a,"tabindex","0"),l(a,"class","p-2 shadow menu dropdown-content bg-base-100 rounded-box w-52"),l(s,"class","dropdown dropdown-end"),l(B,"class","btn"),l(N,"class","btn"),l(t,"class","flex flex-row justify-between items-center py-4"),l(R,"class","flex justify-center"),l(W,"class","flex flex-row justify-between py-4"),l(C,"class","range range-sm"),l(C,"type","range"),l(C,"min","1"),l(C,"max","100"),l(C,"step","1"),l(P,"class","range range-sm"),l(P,"type","range"),l(P,"min","1"),l(P,"max","100"),l(P,"step","1"),l(e,"class","max-w-[1000px] mx-auto"),l(A,"class","stat-title"),l(M,"class","stat-value"),l(m,"class","stat"),l(se,"class","stat-title"),l(ie,"class","stat-value"),l(T,"class","stat"),l(oe,"class","stat-title"),l(ne,"class","stat-value"),l(J,"class","stat"),l(re,"class","stat-title"),l(j,"type","checkbox"),l(j,"class","toggle"),l(le,"class","stat-value"),l(Q,"class","stat"),l(ae,"class","stat-title"),l(D,"type","checkbox"),l(D,"class","toggle"),l(_e,"class","stat-value"),l(U,"class","stat"),l(u,"class","shadow stats stats-vertical"),l(o,"class","absolute top-4 left-4")},m(g,G){ue(g,e,G),i(e,t),i(t,s),i(s,n),i(s,d),i(s,a),i(a,v),i(v,p),V(p,_[2]),i(a,f),i(a,y),i(y,w),i(a,k),i(a,b),i(b,z),i(a,K),i(a,S),i(S,H),i(t,X),i(t,B),i(t,Y),i(t,N),i(e,Z),i(e,R),Be(q,R,null),i(e,$),i(e,W),i(e,ee),i(e,C),V(C,_[7]),i(e,te),i(e,P),V(P,_[6]),ue(g,r,G),ue(g,o,G),i(o,u),i(u,m),i(m,A),i(m,I),i(m,M),i(M,pe),i(u,ze),i(u,T),i(T,se),i(T,ke),i(T,ie),i(ie,fe),i(u,Me),i(u,J),i(J,oe),i(J,Ce),i(J,ne),i(ne,me),i(u,Pe),i(u,Q),i(Q,re),i(Q,Ie),i(Q,le),i(le,j),j.checked=_[3],i(u,Ge),i(u,U),i(U,ae),i(U,Le),i(U,_e),i(_e,D),D.checked=_[4],F=!0,ve||(Ae=[L(p,"input",_[14]),L(w,"click",_[10]),L(z,"click",_[11]),L(H,"click",_[12]),L(B,"click",_[13]),L(N,"click",_[8]),L(C,"change",_[15]),L(C,"input",_[15]),L(P,"change",_[16]),L(P,"input",_[16]),L(j,"change",_[17]),L(D,"change",_[18])],ve=!0)},p(g,G){G[0]&4&&he(p.value)!==g[2]&&V(p,g[2]),G[0]&128&&V(C,g[7]),G[0]&64&&V(P,g[6]),(!F||G[0]&32)&&xe(pe,g[5]),(!F||G[0]&1)&&xe(fe,g[0]),(!F||G[0]&2)&&xe(me,g[1]),G[0]&8&&(j.checked=g[3]),G[0]&16&&(D.checked=g[4])},i(g){F||(Ne(q.$$.fragment,g),F=!0)},o(g){je(q.$$.fragment,g),F=!1},d(g){g&&de(e),De(q),g&&de(r),g&&de(o),ve=!1,Ue(Ae)}}}let E=1e3,O=600,tt=0,Ee=100;function st(_,e,t){let s=[],n=0,d=0,a=1,v=!1,p=!1,f=0,y=30,w=1,k=E/Ee,b=O/Ee,z=new Array(k);for(let r=0;r<k;r++){z[r]=new Array(b);for(let o=0;o<b;o++)z[r][o]=new Array(0)}function K(r,o,u){o.alive&&o instanceof Fe&&(o.follows?r.fill(r.color("red")):o.in_recovery(u)?r.fill(r.color("blue")):r.fill(r.color(...o.color)),r.ellipse(o.position.x,o.position.y,o.size.x,o.size.y))}function S(){for(let r=0;r<z.length;r++)for(let o=0;o<z[r].length;o++)z[r][o].length=0}function H(){S();let r,o;for(let u=0;u<s.length;u++)s[u].alive&&(r=s[u].discrete_pos_x(k,E),o=s[u].discrete_pos_y(b,O),z[r][o].push(s[u]))}function X(r,o,u){let m=o.discrete_pos_x(k,E),A=o.discrete_pos_y(b,O),I=z[m][A];for(let M=0;M<I.length;M++)if(I[M]!=o){if(o.do_you_eat(I[M])){o.move_towards(I[M],u);break}else if(o.followed_by==I[M]){o.move_away(I[M]);break}}}function B(r,o,u,m){o.move_towards(u,m),o.walk({width:E,height:O,speed_manipulator:1.1}),p&&r.line(o.position.x,o.position.y,u.position.x,u.position.y);let A=o.position.x-u.position.x,I=o.position.y-u.position.y,M=Math.sqrt(A*A+I*I);o.size.x/2+u.size.x/2>=M&&o.eat(u,m)}function Y(r,o,u){u-o.born>o.max_age&&o.alive&&(o.die(u),t(1,d+=1))}const N=r=>{r.setup=()=>{r.createCanvas(E,O),r.stroke(200)},r.draw=()=>{if(r.frameRate(y),H(),f%w==0){if(r.background(255),v)for(var o=0;o<=E;o+=E/k)for(var u=0;u<=O;u+=O/b)r.line(o,0,o,O),r.line(0,u,E,u);s.forEach(function(m){K(r,m,f)})}t(5,f=r.frameCount);for(let m=0;m<s.length;m++)s[m].alive&&(s[m].follows?B(r,s[m],s[m].follows,f):(X(r,s[m],f),s[m].walk({width:E,height:O})),Y(r,s[m],f))}};function Z(){for(let r=0;r<a;r++)s.push(new be({born:f}));t(0,n+=a)}function R(){for(let r=0;r<a;r++)s.push(new we({born:f}));t(0,n+=a)}function q(){for(let r=0;r<a;r++)s.push(new $e({born:f}));t(0,n+=a)}function $(){H(),console.log(z)}function W(){a=he(this.value),t(2,a)}function ee(){w=he(this.value),t(7,w)}function C(){y=he(this.value),t(6,y)}function te(){v=this.checked,t(3,v)}function P(){p=this.checked,t(4,p)}return[n,d,a,v,p,f,y,w,S,N,Z,R,q,$,W,ee,C,te,P]}class it extends Oe{constructor(e){super();Se(this,e,st,et,qe,{},null,[-1,-1])}}function ot(_){let e,t,s;return t=new it({}),{c(){e=h("main"),He(t.$$.fragment)},m(n,d){ue(n,e,d),Be(t,e,null),s=!0},p:Ve,i(n){s||(Ne(t.$$.fragment,n),s=!0)},o(n){je(t.$$.fragment,n),s=!1},d(n){n&&de(e),De(t)}}}class nt extends Oe{constructor(e){super();Se(this,e,null,ot,qe,{})}}new nt({target:document.getElementById("app")});
