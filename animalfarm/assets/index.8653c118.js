var wt=Object.defineProperty;var gt=(_,e,t)=>e in _?wt(_,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):_[e]=t;var h=(_,e,t)=>(gt(_,typeof e!="symbol"?e+"":e,t),t);import{v as yt,G as Ye,S as at,i as _t,s as dt,P as bt,e as n,c as ut,a as v,t as D,b as o,d as rt,f as L,g as s,m as ht,h as _e,l as E,j as Ee,k as de,n as ct,o as ft,p as A,q as pt,r as xt,u as zt}from"./vendor.9bc2dd1d.js";const kt=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function t(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerpolicy&&(d.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?d.credentials="include":a.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(a){if(a.ep)return;a.ep=!0;const d=t(a);fetch(a.href,d)}};kt();class Mt{constructor({pos_x:e=0,pos_y:t=0,pos_z:l=0,size_x:a=0,size_y:d=0,size_z:f=0}){h(this,"__id",yt());h(this,"_pos_x");h(this,"_pos_y");h(this,"_pos_z");h(this,"_size_x");h(this,"_size_y");h(this,"_size_z");h(this,"_move_dir",Math.random()*360*Math.PI/180);h(this,"_color",[255,255,255]);h(this,"_name");this._pos_x=e,this._pos_y=t,this._pos_z=l,this._size_x=a,this._size_y=d,this._size_z=f}get move_dir(){return this._move_dir}set move_dir(e){this._move_dir=e*Math.PI/180}get color(){return this._color}set color(e){this._color=e}get name(){return this._name}get position(){return{x:this._pos_x,y:this._pos_y,z:this._pos_z}}get size(){return{x:this._size_x,y:this._size_y,z:this._size_z}}move({x:e=0,y:t=0,z:l=0}){this._pos_x=this._pos_x+e,this._pos_y=this._pos_y+t,this._pos_z=this._pos_z+l}grow({x:e=0,y:t=0,z:l=0}){this._size_x=this._size_x+e,this._size_y=this._size_y+t,this._size_z=this._size_z+l}discrete_pos_x(e,t){let l=this._pos_x;return l<0?l=0:l>=t&&(l=t-1),Math.floor(l/t*e)}discrete_pos_y(e,t){let l=this._pos_y;return l<0?l=0:l>=t&&(l=t-1),Math.floor(l/t*e)}}class Ct extends Mt{constructor({pos_x:e=0,pos_y:t=0,pos_z:l=0,size_x:a=0,size_y:d=0,size_z:f=0,oxygen:m="unknown",breed:g="unknown",born:x=-1,speed:p=0}){super({pos_x:e,pos_y:t,pos_z:l,size_x:a,size_y:d,size_z:f});h(this,"_alive",!0);h(this,"_born");h(this,"_max_age",100);h(this,"_died",-1);h(this,"_oxygen");h(this,"_breed");h(this,"_speed");h(this,"_followed_by");this._oxygen=m,this._breed=g,this._born=x,this._speed=p}get alive(){return this._alive}get born(){return this._born}get max_age(){return this._max_age}get died(){return this._died}get oxygen(){return this._oxygen}get breed(){return this._breed}get speed(){return this._speed}get followed_by(){return this._followed_by}set followed_by(e){this._followed_by=e}die(e){this._alive==!0&&(this._alive=!1,this._speed=0,e&&(this._died=e))}}class mt extends Ct{constructor({pos_x:e=0,pos_y:t=0,pos_z:l=0,size_x:a=0,size_y:d=0,size_z:f=0,oxygen:m="unknown",carnivore:g=!1,food:x=[],name:p="unknown",breed:M="unknown",born:C=-1,animal_type:y="unknown",latin:F="unknown",speed:k=1,sex:T="unknown"}){super({pos_x:e,pos_y:t,pos_z:l,size_x:a,size_y:d,size_z:f,oxygen:m,breed:M,born:C});h(this,"_carnivore");h(this,"_food");h(this,"_sex");h(this,"_animal_type");h(this,"_latin");h(this,"_reproduced",-50);h(this,"_reproduce_time",50);h(this,"_hungry",!0);h(this,"_horny",!1);h(this,"_follows");h(this,"_max_stamina",100);h(this,"_stamina",Math.floor(this._max_stamina*Math.random()));h(this,"_recover",-100);h(this,"_recovery_time",Math.floor(100*Math.random()));this._carnivore=g,this._food=x,this._name=p,this._sex=T,this._animal_type=y,this._latin=F,this._speed=k}get carnivor(){return this._carnivore}get food(){return this._food}get sex(){return this._sex}get animal_type(){return this._animal_type}get latin(){return this._latin}get reproduced(){return this._reproduced}set reproduced(e){this._reproduced=e}get reproduce_time(){return this._reproduce_time}get hungry(){return this._hungry}set hungry(e){this._hungry=e}get horny(){return this._horny}set horny(e){this._horny=e}get follows(){return this._follows}set follows(e){this._follows=e}get stamina(){return this._stamina}set stamina(e){this._stamina=e}eat_meat(){this._carnivore=!0}go_vegan(){this._carnivore=!1}add_to_diet(e){this._food.push(e)}edges({width:e,height:t}){this.position.x>=e-this.size.x/2?(this._pos_x=e-this.size.x/2,this.move_dir=90+this.move_dir*180/Math.PI):this.position.x<=this.size.x/2&&(this._pos_x=this.size.x/2,this.move_dir=90+this.move_dir*180/Math.PI),this.position.y>=t-this.size.y/2?(this._pos_y=t-this.size.y/2,this.move_dir=360-this.move_dir*180/Math.PI):this.position.y<=this.size.y/2&&(this._pos_y=this.size.y/2,this.move_dir=360-this.move_dir*180/Math.PI)}walk({width:e,height:t,speed_manipulator:l=1}){this.edges({width:e,height:t});let a=Math.cos(this.move_dir)*this.speed*l,d=Math.sin(this.move_dir)*this.speed*l;this.move({x:a,y:d})}change_direction({direction:e=0}){this.move_dir=this.move_dir*180/Math.PI+e}in_recovery(e){return e-this._recover<=this._recovery_time}move_towards(e,t){t-this._recover>this._recovery_time&&(this._stamina>0&&e.alive?(this.move_dir=Math.atan2(e.position.y-this.position.y,e.position.x-this.position.x)*180/Math.PI,this.follows=e,e.followed_by=this,this._stamina-=1):(this.follows=null,this._stamina==0&&(this._recover=t,this._stamina=100)))}move_away(e){this.move_dir=Math.atan2(-e.position.y+this.position.y,-e.position.x+this.position.x)*180/Math.PI}do_you_eat(e){let t;return this._food.includes(e.name)&&this._carnivore==!0?t=!0:t=!1,t}eat(e,t){let l=!1;return this.do_you_eat(e)==!0&&e.alive==!0&&(e.die(t),l=!0,this.follows=null),l}could_you_reproduce(e){let t;return this.constructor.name==e.constructor.name&&e.sex=="male"&&this._sex=="female"&&(this._breed="sexual")?t=!0:t=!1,t}reproduce(e,t){return console.log("This was an Error"),Error}}function Pt({f_prob:_=.45,m_prob:e=.45}){let t=Math.random(),l="unknown";return t<=_?l="female":t>e+_?l="non-binary":l="male",l}class Ge extends mt{constructor({pos_x:e=0,pos_y:t=0,pos_z:l=0,size_x:a=20,size_y:d=20,size_z:f=17,carnivore:m=!1,food:g=[],speed:x=2,born:p=-1,name:M="unknown",latin:C="unknown"}){let y=Pt({f_prob:.45,m_prob:.45});super({pos_x:e,pos_y:t,pos_z:l,size_x:a,size_y:d,size_z:f,carnivore:m,food:g,name:M,speed:x,latin:C,born:p,sex:y,oxygen:"lungs",breed:"sexual"});h(this,"_mother");h(this,"_father")}reproduction_details(e,t){this._mother=this,this._father=e,this.reproduced=t}reproduce(e,t){let l=new Ge({pos_x:this.position.x,pos_y:this.position.y,pos_z:this.position.z,born:t});return this.reproduction_details(e,t),l}}class vt extends Ge{constructor({pos_x:e=0,pos_y:t=0,pos_z:l=0,size_x:a=20,size_y:d=20,size_z:f=17,carnivore:m=!1,food:g=[],speed:x=1,name:p="unknown",sex:M="unknown",latin:C="unknown",born:y=-1}){g.push("Banana");super({pos_x:e,pos_y:t,pos_z:l,size_x:a,size_y:d,size_z:f,carnivore:m,food:g,name:p,sex:M,speed:x,latin:C,born:y,animal_type:"Primate"})}}class De extends vt{constructor({pos_x:e=Math.random()*1e3,pos_y:t=Math.random()*500,pos_z:l=0,size_x:a=10,size_y:d=10,size_z:f=5,carnivore:m=!1,food:g=[],born:x=-1}){super({pos_x:e,pos_y:t,pos_z:l,size_x:a,size_y:d,size_z:f,carnivore:m,food:g,born:x,name:"Gorilla",latin:"Gorilla Gorilla",speed:2});h(this,"age_distr",new Ye(500,200));this.color=[15,156,34],this._max_age=this.age_distr.ppf(Math.random()),this._reproduce_time=100}reproduce(e,t){let l=new De({pos_x:this.position.x,pos_y:this.position.y,pos_z:this.position.z,size_x:this.size.x*.9,size_y:this.size.y*.9,born:t});return this.reproduction_details(e,t),l}}class Ke extends vt{constructor({pos_x:e=Math.random()*1e3,pos_y:t=Math.random()*500,pos_z:l=0,size_x:a=8,size_y:d=8,size_z:f=3,carnivore:m=!0,food:g=[],born:x=-1}){g.push("Gorilla");super({pos_x:e,pos_y:t,pos_z:l,size_x:a,size_y:d,size_z:f,carnivore:m,food:g,born:x,name:"Human",latin:"Homo Sapiens",speed:1});h(this,"age_distr",new Ye(800,Math.pow(100,2)));this.color=[255,0,255],this._max_age=this.age_distr.ppf(Math.random()),this._reproduce_time=200}reproduce(e,t){let l=new Ke({pos_x:this.position.x,pos_y:this.position.y,pos_z:this.position.z,born:t});return this.reproduction_details(e,t),l}}class It extends Ge{constructor({pos_x:e=Math.random()*1e3,pos_y:t=Math.random()*500,pos_z:l=0,size_x:a=15,size_y:d=15,size_z:f=17,carnivore:m=!0,food:g=[],name:x="unknown",born:p=-1}){g.push("Human");super({pos_x:e,pos_y:t,pos_z:l,size_x:a,size_y:d,size_z:f,carnivore:m,food:g,name:x,born:p,latin:"Panthera Leo",speed:2});h(this,"age_distr",new Ye(400,Math.pow(100,2)));this.color=[204,102,0],this._max_age=this.age_distr.ppf(Math.random()),this._reproduce_time=200}}function Lt(_){let e,t,l,a,d,f,m,g,x,p,M,C,y,F,k,T,K,z,ue,j,G,I,S,q,he,Z,N,le,ce,J,fe,$,pe,ee,R,te,we,Q,se,ge,i,r,c,b,U,P,ie,Y,ye,je,He,be,Je,me,Oe,oe,H,Qe,O,Se,ve,W,ne,xe,Ue,ze,qe,Ve,re,ke,Xe,Me,Ne,Ze,ae,Ce,$e,Pe,Re,et,V,Ie,tt,Le,We,st,X,it,Be,ot,Fe,lt,B,Te,nt;return l=new bt({props:{sketch:_[11]}}),{c(){e=n("div"),t=n("div"),ut(l.$$.fragment),a=v(),d=n("div"),f=n("input"),m=v(),g=n("div"),x=v(),p=n("div"),M=n("label"),C=v(),y=n("ul"),F=n("li"),k=n("button"),k.textContent="Restart",T=v(),K=n("li"),z=n("button"),z.textContent="end",ue=v(),j=n("li"),G=n("div"),I=n("input"),S=n("label"),S.textContent="Show connectors",q=v(),he=n("li"),Z=n("div"),N=n("input"),le=n("label"),le.textContent="Show grid",ce=v(),J=n("input"),fe=v(),$=n("div"),$.innerHTML=`<div class="modal-box"><h3 class="font-bold text-lg">Congratulations random Interner user!</h3> 
    <p class="py-4">You&#39;ve been selected for a chance to get one year of subscription to use Wikipedia for free!</p> 
    <div class="modal-action"><label for="my-modal" class="btn">Yay!</label></div></div>`,pe=v(),ee=n("div"),R=n("div"),te=n("label"),te.textContent="Further options",we=v(),Q=n("div"),se=n("label"),se.textContent="Create animals",ge=v(),i=n("ul"),r=n("li"),c=n("input"),b=v(),U=n("li"),P=n("a"),P.textContent="Human",ie=v(),Y=n("li"),ye=n("a"),ye.textContent="Gorilla",je=v(),He=n("li"),be=n("a"),be.textContent="Lions",Je=v(),me=n("label"),me.textContent="Open statistics",Oe=v(),oe=n("div"),H=n("input"),Qe=v(),O=n("input"),Se=v(),ve=n("div"),W=n("div"),ne=n("div"),xe=n("div"),xe.textContent="Step",Ue=v(),ze=n("div"),qe=D(_[5]),Ve=v(),re=n("div"),ke=n("div"),ke.textContent="Produced",Xe=v(),Me=n("div"),Ne=D(_[0]),Ze=v(),ae=n("div"),Ce=n("div"),Ce.textContent="Alive",$e=v(),Pe=n("div"),Re=D(_[10]),et=v(),V=n("div"),Ie=n("div"),Ie.textContent="Died",tt=v(),Le=n("div"),We=D(_[1]),st=v(),X=n("div"),it=D("Eaten: "),Be=D(_[9]),ot=D("%, Old: "),Fe=D(_[8]),lt=D("%"),o(t,"class","absolute"),rt(t,"top","10px"),rt(t,"left","10px"),o(e,"class",""),o(f,"id","my-drawer"),o(f,"type","checkbox"),o(f,"class","drawer-toggle"),o(g,"class","drawer-content"),o(M,"for","my-drawer"),o(M,"class","drawer-overlay"),o(k,"class","btn btn-secondary"),o(z,"class","btn"),o(I,"id","show_connectors"),o(I,"type","checkbox"),o(I,"class","toggle absolute left-2"),o(S,"for","show_connectors"),o(G,"class","btn"),o(N,"id","show_grid"),o(N,"type","checkbox"),o(N,"class","toggle absolute left-2"),o(le,"for","show_grid"),o(Z,"class","btn"),o(y,"class","menu p-4 overflow-y-auto w-80 bg-base-100 font-bold text-white gap-2"),o(p,"class","drawer-side"),o(d,"class","h-screen drawer w-full rounded"),o(J,"type","checkbox"),o(J,"id","my-modal"),o(J,"class","modal-toggle"),o($,"class","modal"),o(te,"for","my-drawer"),o(te,"class","btn drawer-button"),o(se,"tabindex","0"),o(se,"class","m-1 btn btn-accent"),o(c,"type","number"),o(c,"min","1"),o(c,"max","10000"),o(c,"class","input input-bordered input-primary w-full max-w-xs"),o(i,"tabindex","0"),o(i,"class","p-2 shadow menu dropdown-content bg-base-100 rounded-box w-52"),o(Q,"class","dropdown dropdown-down"),o(me,"for","my-modal"),o(me,"class","btn btn-secondary"),o(R,"class","flex flex-row justify-left items-center gap-2 px-4"),o(ee,"class","absolute top-2 w-full"),o(H,"class","range range-sm"),o(H,"type","range"),o(H,"min","1"),o(H,"max","100"),o(H,"step","1"),o(O,"class","range range-sm"),o(O,"type","range"),o(O,"min","1"),o(O,"max","100"),o(O,"step","1"),o(oe,"class","absolute bottom-2 right-0 w-[500px]"),o(xe,"class","stat-title"),o(ze,"class","stat-value"),o(ne,"class","stat w-[200px]"),o(ke,"class","stat-title"),o(Me,"class","stat-value"),o(re,"class","stat"),o(Ce,"class","stat-title"),o(Pe,"class","stat-value"),o(ae,"class","stat"),o(Ie,"class","stat-title"),o(Le,"class","stat-value"),o(X,"class","stat-desc"),o(V,"class","stat"),o(W,"class","shadow stats stats-vertical"),o(ve,"class","absolute top-6 right-0")},m(u,w){L(u,e,w),s(e,t),ht(l,t,null),L(u,a,w),L(u,d,w),s(d,f),s(d,m),s(d,g),s(d,x),s(d,p),s(p,M),s(p,C),s(p,y),s(y,F),s(F,k),s(y,T),s(y,K),s(K,z),s(y,ue),s(y,j),s(j,G),s(G,I),I.checked=_[4],s(G,S),s(y,q),s(y,he),s(he,Z),s(Z,N),N.checked=_[3],s(Z,le),L(u,ce,w),L(u,J,w),L(u,fe,w),L(u,$,w),L(u,pe,w),L(u,ee,w),s(ee,R),s(R,te),s(R,we),s(R,Q),s(Q,se),s(Q,ge),s(Q,i),s(i,r),s(r,c),_e(c,_[2]),s(i,b),s(i,U),s(U,P),s(i,ie),s(i,Y),s(Y,ye),s(i,je),s(i,He),s(He,be),s(R,Je),s(R,me),L(u,Oe,w),L(u,oe,w),s(oe,H),_e(H,_[7]),s(oe,Qe),s(oe,O),_e(O,_[6]),L(u,Se,w),L(u,ve,w),s(ve,W),s(W,ne),s(ne,xe),s(ne,Ue),s(ne,ze),s(ze,qe),s(W,Ve),s(W,re),s(re,ke),s(re,Xe),s(re,Me),s(Me,Ne),s(W,Ze),s(W,ae),s(ae,Ce),s(ae,$e),s(ae,Pe),s(Pe,Re),s(W,et),s(W,V),s(V,Ie),s(V,tt),s(V,Le),s(Le,We),s(V,st),s(V,X),s(X,it),s(X,Be),s(X,ot),s(X,Fe),s(X,lt),B=!0,Te||(nt=[E(k,"click",At),E(z,"click",_[15]),E(I,"change",_[18]),E(N,"change",_[19]),E(c,"input",_[20]),E(P,"click",_[12]),E(ye,"click",_[13]),E(be,"click",_[14]),E(H,"change",_[21]),E(H,"input",_[21]),E(O,"change",_[22]),E(O,"input",_[22])],Te=!0)},p(u,w){w[0]&16&&(I.checked=u[4]),w[0]&8&&(N.checked=u[3]),w[0]&4&&Ee(c.value)!==u[2]&&_e(c,u[2]),w[0]&128&&_e(H,u[7]),w[0]&64&&_e(O,u[6]),(!B||w[0]&32)&&de(qe,u[5]),(!B||w[0]&1)&&de(Ne,u[0]),(!B||w[0]&1024)&&de(Re,u[10]),(!B||w[0]&2)&&de(We,u[1]),(!B||w[0]&512)&&de(Be,u[9]),(!B||w[0]&256)&&de(Fe,u[8])},i(u){B||(ct(l.$$.fragment,u),B=!0)},o(u){ft(l.$$.fragment,u),B=!1},d(u){u&&A(e),pt(l),u&&A(a),u&&A(d),u&&A(ce),u&&A(J),u&&A(fe),u&&A($),u&&A(pe),u&&A(ee),u&&A(Oe),u&&A(oe),u&&A(Se),u&&A(ve),Te=!1,xt(nt)}}}let Ae=100;function At(){window.location.reload()}function Et(_,e,t){let l,a,d,f=1e3,m=600,g=0,x=0,p=[],M=0,C=0,y=0,F=0,k=1,T=!1,K=!1,z=0,ue=1e4,j=30,G=1,I=f/Ae,S=m/Ae,q=new Array(I);for(let i=0;i<I;i++){q[i]=new Array(S);for(let r=0;r<S;r++)q[i][r]=new Array(0)}function he(i,r,c){r.alive&&r instanceof mt&&(r.follows?i.fill(i.color("red")):r.in_recovery(c)?i.fill(i.color("blue")):i.fill(i.color(...r.color)),i.ellipse(r.position.x,r.position.y,r.size.x,r.size.y))}function Z(){for(let i=0;i<q.length;i++)for(let r=0;r<q[i].length;r++)q[i][r].length=0}function N(){Z();let i,r;for(let c=0;c<p.length;c++)p[c].alive&&(i=p[c].discrete_pos_x(I,f),r=p[c].discrete_pos_y(S,m),q[i][r].push(p[c]))}function le(i,r,c){let b=r.discrete_pos_x(I,f),U=r.discrete_pos_y(S,m),P=q[b][U];for(let ie=0;ie<P.length;ie++){let Y=Math.floor(Math.random()*P.length);if(P[Y]!=r){if(r.do_you_eat(P[Y])){r.move_towards(P[Y],c);break}else if(r.followed_by==P[Y]){r.move_away(P[Y]);break}}}}function ce(i,r,c,b){r.move_towards(c,b),r.walk({width:f,height:m,speed_manipulator:1.1}),K&&b%G==0&&i.line(r.position.x,r.position.y,c.position.x,c.position.y);let U=r.position.x-c.position.x,P=r.position.y-c.position.y,ie=Math.sqrt(U*U+P*P);r.size.x/2+c.size.x/2>=ie&&r.eat(c,b)&&(t(1,C+=1),t(16,y+=1))}function J(i,r,c){c-r.born>r.max_age&&r.alive&&(r.die(c),t(1,C+=1),t(17,F+=1))}const fe=i=>{i.mousePressed=()=>{i.noLoop()},i.mouseReleased=()=>{i.loop()},i.setup=()=>{g=i.windowWidth%Ae,x=i.windowHeight%Ae,f=i.windowWidth-g,m=i.windowHeight-x;let r=i.createCanvas(f,m);r.elt.style.zIndex=-1,i.stroke(200)},i.draw=()=>{if(i.frameRate(j),N(),z%G==0){if(i.background(255),T)for(var r=0;r<=f;r+=f/I)for(var c=0;c<=m;c+=m/S)i.line(r,0,r,m),i.line(0,c,f,c);p.forEach(function(b){he(i,b,z)})}t(5,z=i.frameCount);for(let b=0;b<p.length;b++)p[b].alive&&(p[b].follows?ce(i,p[b],p[b].follows,z):(le(i,p[b],z),p[b].walk({width:f,height:m})),J(i,p[b],z));z>ue&&i.noLoop()}};function $(){for(let i=0;i<k;i++)p.push(new Ke({born:z}));t(0,M+=k)}function pe(){for(let i=0;i<k;i++)p.push(new De({born:z}));t(0,M+=k)}function ee(){for(let i=0;i<k;i++)p.push(new It({born:z}));t(0,M+=k)}function R(){ue=z}function te(){K=this.checked,t(4,K)}function we(){T=this.checked,t(3,T)}function Q(){k=Ee(this.value),t(2,k)}function se(){G=Ee(this.value),t(7,G)}function ge(){j=Ee(this.value),t(6,j)}return _.$$.update=()=>{_.$$.dirty[0]&3&&t(10,l=M-C),_.$$.dirty[0]&65538&&t(9,a=Math.floor(y/C*100)),_.$$.dirty[0]&131074&&t(8,d=Math.floor(F/C*100))},[M,C,k,T,K,z,j,G,d,a,l,fe,$,pe,ee,R,y,F,te,we,Q,se,ge]}class Gt extends at{constructor(e){super();_t(this,e,Et,Lt,dt,{},null,[-1,-1])}}function Ht(_){let e,t,l;return t=new Gt({}),{c(){e=n("main"),ut(t.$$.fragment)},m(a,d){L(a,e,d),ht(t,e,null),l=!0},p:zt,i(a){l||(ct(t.$$.fragment,a),l=!0)},o(a){ft(t.$$.fragment,a),l=!1},d(a){a&&A(e),pt(t)}}}class Ot extends at{constructor(e){super();_t(this,e,null,Ht,dt,{})}}new Ot({target:document.getElementById("app")});
