var At=Object.defineProperty;var Ot=(a,e,t)=>e in a?At(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var c=(a,e,t)=>(Ot(a,typeof e!="symbol"?e+"":e,t),t);import{v as Gt,G as ot,S as Pt,i as It,s as Lt,P as Ht,a as Rt,e as r,c as $e,b as m,t as R,d as l,f as Ct,g as L,h as s,m as et,j as we,l as I,k as Be,n as ue,o as tt,p as st,q as E,r as it,u as qt,w as Nt}from"./vendor.f5b4c1c7.js";const Tt=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&o(g)}).observe(document,{childList:!0,subtree:!0});function t(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerpolicy&&(h.referrerPolicy=d.referrerpolicy),d.crossorigin==="use-credentials"?h.credentials="include":d.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(d){if(d.ep)return;d.ep=!0;const h=t(d);fetch(d.href,h)}};Tt();class Bt{constructor({pos_x:e=0,pos_y:t=0,pos_z:o=0,size_x:d=0,size_y:h=0,size_z:g=0}){c(this,"__id",Gt());c(this,"_pos_x");c(this,"_pos_y");c(this,"_pos_z");c(this,"_size_x");c(this,"_size_y");c(this,"_size_z");c(this,"_move_dir",Math.random()*360*Math.PI/180);c(this,"_color",[255,255,255]);c(this,"_name");this._pos_x=e,this._pos_y=t,this._pos_z=o,this._size_x=d,this._size_y=h,this._size_z=g}get move_dir(){return this._move_dir}set move_dir(e){this._move_dir=e*Math.PI/180}get color(){return this._color}set color(e){this._color=e}get name(){return this._name}get position(){return{x:this._pos_x,y:this._pos_y,z:this._pos_z}}get size(){return{x:this._size_x,y:this._size_y,z:this._size_z}}move({x:e=0,y:t=0,z:o=0}){this._pos_x=this._pos_x+e,this._pos_y=this._pos_y+t,this._pos_z=this._pos_z+o}grow({x:e=0,y:t=0,z:o=0}){this._size_x=this._size_x+e,this._size_y=this._size_y+t,this._size_z=this._size_z+o}discrete_pos_x(e,t){let o=this._pos_x;return o<0?o=0:o>=t&&(o=t-1),Math.floor(o/t*e)}discrete_pos_y(e,t){let o=this._pos_y;return o<0?o=0:o>=t&&(o=t-1),Math.floor(o/t*e)}}class Dt extends Bt{constructor({pos_x:e=0,pos_y:t=0,pos_z:o=0,size_x:d=0,size_y:h=0,size_z:g=0,oxygen:k="unknown",breed:p="unknown",born:v=-1,speed:M=0}){super({pos_x:e,pos_y:t,pos_z:o,size_x:d,size_y:h,size_z:g});c(this,"_alive",!0);c(this,"_born");c(this,"_max_age",100);c(this,"_died");c(this,"_oxygen");c(this,"_breed");c(this,"_speed");c(this,"_followed_by");c(this,"_reproduced");c(this,"_reproduce_time",200);this._oxygen=k,this._breed=p,this._born=v,this._speed=M,this._reproduced=v}get alive(){return this._alive}get born(){return this._born}get max_age(){return this._max_age}get died(){return this._died}get oxygen(){return this._oxygen}get breed(){return this._breed}get speed(){return this._speed}get followed_by(){return this._followed_by}set followed_by(e){this._followed_by=e}get reproduced(){return this._reproduced}set reproduced(e){this._reproduced=e}get reproduce_time(){return this._reproduce_time}die(e){this._alive==!0&&(this._alive=!1,this._speed=0,e&&(this._died=e))}reproduce(e,t){return console.log("Organism should not reproduce"),Error}}class Et extends Dt{constructor({pos_x:e=0,pos_y:t=0,pos_z:o=0,size_x:d=0,size_y:h=0,size_z:g=0,oxygen:k="unknown",carnivore:p=!1,food:v=[],name:M="unknown",breed:S="unknown",born:f=-1,animal_type:y="unknown",latin:A="unknown",speed:C=1,sex:Y="unknown"}){super({pos_x:e,pos_y:t,pos_z:o,size_x:d,size_y:h,size_z:g,oxygen:k,breed:S,born:f});c(this,"_carnivore");c(this,"_food");c(this,"_sex");c(this,"_animal_type");c(this,"_latin");c(this,"_hungry",!0);c(this,"_horny",!1);c(this,"_follows");c(this,"_max_stamina",100);c(this,"_stamina",Math.floor(this._max_stamina*Math.random()));c(this,"_recover",-100);c(this,"_recovery_time",Math.floor(100*Math.random()));c(this,"_mother");c(this,"_father");this._carnivore=p,this._food=v,this._name=M,this._sex=Y,this._animal_type=y,this._latin=A,this._speed=C}get carnivor(){return this._carnivore}get food(){return this._food}get sex(){return this._sex}get animal_type(){return this._animal_type}get latin(){return this._latin}get hungry(){return this._hungry}set hungry(e){this._hungry=e}get horny(){return this._horny}set horny(e){this._horny=e}get follows(){return this._follows}set follows(e){this._follows=e}get stamina(){return this._stamina}set stamina(e){this._stamina=e}get mother(){return this._mother}eat_meat(){this._carnivore=!0}go_vegan(){this._carnivore=!1}add_to_diet(e){this._food.push(e)}edges({width:e,height:t}){this.position.x>=e-this.size.x/2?(this._pos_x=e-this.size.x/2,this.move_dir=90+this.move_dir*180/Math.PI):this.position.x<=this.size.x/2&&(this._pos_x=this.size.x/2,this.move_dir=90+this.move_dir*180/Math.PI),this.position.y>=t-this.size.y/2?(this._pos_y=t-this.size.y/2,this.move_dir=360-this.move_dir*180/Math.PI):this.position.y<=this.size.y/2&&(this._pos_y=this.size.y/2,this.move_dir=360-this.move_dir*180/Math.PI)}walk({width:e,height:t,speed_manipulator:o=1}){this.edges({width:e,height:t});let d=Math.cos(this.move_dir)*this.speed*o,h=Math.sin(this.move_dir)*this.speed*o;this.move({x:d,y:h})}change_direction({direction:e=0}){this.move_dir=this.move_dir*180/Math.PI+e*Math.random()}in_recovery(e){return e-this._recover<=this._recovery_time}move_towards(e,t,o){t-this._recover>this._recovery_time&&(this._stamina>0&&e.alive?(this.move_dir=Math.atan2(e.position.y-this.position.y,e.position.x-this.position.x)*180/Math.PI,this.follows=e,o&&(e.followed_by=this),this._stamina-=1):(this.follows=null,this._stamina==0&&(this._recover=t,this._stamina=100)))}move_away(e){this.move_dir=Math.atan2(-e.position.y+this.position.y,-e.position.x+this.position.x)*180/Math.PI}do_you_eat(e){let t;return this._food.includes(e.name)&&this._carnivore==!0?t=!0:t=!1,t}eat(e,t){let o=!1;return this.do_you_eat(e)==!0&&e.alive==!0&&(e.die(t),o=!0,this.follows=null),o}could_you_reproduce(e){return console.log("Reproduction Error"),!1}reproduce(e,t){return console.log("This was an Error"),Error}}function Ft({f_prob:a=.45,m_prob:e=.45}){let t=Math.random(),o="unknown";return t<=a?o="female":t>e+a?o="non-binary":o="male",o}class De extends Et{constructor({pos_x:e=0,pos_y:t=0,pos_z:o=0,size_x:d=20,size_y:h=20,size_z:g=17,carnivore:k=!1,food:p=[],speed:v=2,born:M=-1,name:S="unknown",latin:f="unknown"}){let y=Ft({f_prob:.45,m_prob:.45});super({pos_x:e,pos_y:t,pos_z:o,size_x:d,size_y:h,size_z:g,carnivore:k,food:p,name:S,speed:v,latin:f,born:M,sex:y,oxygen:"lungs",breed:"sexual"})}could_you_reproduce(e){let t;return this.name==e.name&&e.sex=="male"&&this._sex=="female"&&(this._breed="sexual")?this._father!=e.__id&&e.mother!=this.__id&&(t=!0):t=!1,t}reproduction_details(e,t,o){this._mother=e.__id,this._father=t.__id,this.reproduced=o}reproduce(e,t){let o=new De({pos_x:this.position.x,pos_y:this.position.y,pos_z:this.position.z,born:t});return o.reproduction_details(this,e,t),this.reproduced=t,o}}class St extends De{constructor({pos_x:e=0,pos_y:t=0,pos_z:o=0,size_x:d=20,size_y:h=20,size_z:g=17,carnivore:k=!1,food:p=[],speed:v=1,name:M="unknown",sex:S="unknown",latin:f="unknown",born:y=-1}){p.push("Banana");super({pos_x:e,pos_y:t,pos_z:o,size_x:d,size_y:h,size_z:g,carnivore:k,food:p,name:M,sex:S,speed:v,latin:f,born:y,animal_type:"Primate"})}}class ke extends St{constructor({pos_x:e=Math.random()*1e3,pos_y:t=Math.random()*500,pos_z:o=0,size_x:d=10,size_y:h=10,size_z:g=5,carnivore:k=!1,food:p=[],born:v=-1}){super({pos_x:e,pos_y:t,pos_z:o,size_x:d,size_y:h,size_z:g,carnivore:k,food:p,born:v,name:"Gorilla",latin:"Gorilla Gorilla",speed:2});c(this,"age_distr",new ot(1e3,200));this.color=[15,156,34],this._max_age=this.age_distr.ppf(Math.random()),this._reproduce_time=400+300*(.5-Math.random())}reproduce(e,t){let o=new ke({pos_x:this.position.x,pos_y:this.position.y,pos_z:this.position.z,size_x:this.size.x*.9,size_y:this.size.y*.9,born:t});return o.reproduction_details(this,e,t),this.reproduced=t,o}}class lt extends St{constructor({pos_x:e=Math.random()*1e3,pos_y:t=Math.random()*500,pos_z:o=0,size_x:d=8,size_y:h=8,size_z:g=3,carnivore:k=!0,food:p=[],born:v=-1}){p.push("Gorilla");super({pos_x:e,pos_y:t,pos_z:o,size_x:d,size_y:h,size_z:g,carnivore:k,food:p,born:v,name:"Human",latin:"Homo Sapiens",speed:1});c(this,"age_distr",new ot(800,Math.pow(100,2)));this.color=[255,0,255],this._max_age=this.age_distr.ppf(Math.random()),this._reproduce_time=800+300*(.5-Math.random())}reproduce(e,t){let o=new lt({pos_x:this.position.x,pos_y:this.position.y,pos_z:this.position.z,born:t});return o.reproduction_details(this,e,t),this.reproduced=t,o}}class nt extends De{constructor({pos_x:e=Math.random()*1e3,pos_y:t=Math.random()*500,pos_z:o=0,size_x:d=15,size_y:h=15,size_z:g=17,carnivore:k=!0,food:p=[],born:v=-1}){p.push("Human");super({pos_x:e,pos_y:t,pos_z:o,size_x:d,size_y:h,size_z:g,carnivore:k,food:p,born:v,name:"Lion",latin:"Panthera Leo",speed:2});c(this,"age_distr",new ot(400,Math.pow(100,2)));this.color=[204,102,0],this._max_age=this.age_distr.ppf(Math.random()),this._reproduce_time=600+300*(.5-Math.random())}reproduce(e,t){let o=new nt({pos_x:this.position.x,pos_y:this.position.y,pos_z:this.position.z,born:t});return o.reproduction_details(this,e,t),this.reproduced=t,o}}function Wt(a){let e,t,o,d,h,g,k,p,v,M,S,f,y,A,C,Y,oe,U,O,Z,q,x,le,ne,K,N,P,G,Me,j,ge,$,be,V,he,ce,X,Ce,fe,xe,re,J,ae,Pe,ee,_e,Ie,i,n,_,w,T,z,B,H,Le,rt,Fe,Ee,at,ye,We,de,D,_t,F,Ke,ze,Q,pe,Se,dt,Ae,Je,ut,te,Oe,ht,Ge,Qe,ct,me,ft,Ue,pt,mt,ve,He,vt,Re,Ve,wt,se,qe,gt,Ne,Xe,bt,ie,xt,Ye,yt,Ze,zt,W,je,kt;return o=new Ht({props:{sketch:a[14]}}),X=new Rt({props:{classNameTable:"table table-compact w-full",columns:a[13],rows:a[2]}}),{c(){e=r("div"),t=r("div"),$e(o.$$.fragment),d=m(),h=r("div"),g=r("input"),k=m(),p=r("div"),v=m(),M=r("div"),S=r("label"),f=m(),y=r("ul"),A=r("li"),C=r("button"),C.textContent="Restart",Y=m(),oe=r("li"),U=r("button"),U.textContent="end",O=m(),Z=r("li"),q=r("div"),x=r("input"),le=r("label"),le.textContent="Show connectors",ne=m(),K=r("li"),N=r("div"),P=r("input"),G=r("label"),G.textContent="Show grid",Me=m(),j=r("label"),j.textContent="Open data",ge=m(),$=r("input"),be=m(),V=r("div"),he=r("div"),ce=r("div"),$e(X.$$.fragment),Ce=m(),fe=r("div"),fe.innerHTML='<label for="my-modal" class="btn btn-secondary">Close</label>',xe=m(),re=r("div"),J=r("div"),ae=r("label"),ae.textContent="Further options",Pe=m(),ee=r("div"),_e=r("label"),_e.textContent="Create animals",Ie=m(),i=r("ul"),n=r("li"),_=r("input"),w=m(),T=r("li"),z=r("div"),z.textContent="Human",B=m(),H=r("li"),Le=r("div"),Le.textContent="Gorilla",rt=m(),Fe=r("li"),Ee=r("div"),Ee.textContent="Lions",at=m(),ye=r("button"),ye.textContent="Change direction",We=m(),de=r("div"),D=r("input"),_t=m(),F=r("input"),Ke=m(),ze=r("div"),Q=r("div"),pe=r("div"),Se=r("div"),Se.textContent="Step",dt=m(),Ae=r("div"),Je=R(a[6]),ut=m(),te=r("div"),Oe=r("div"),Oe.textContent="Produced",ht=m(),Ge=r("div"),Qe=R(a[0]),ct=m(),me=r("div"),ft=R("Reproduced: "),Ue=R(a[9]),pt=R("%"),mt=m(),ve=r("div"),He=r("div"),He.textContent="Alive",vt=m(),Re=r("div"),Ve=R(a[12]),wt=m(),se=r("div"),qe=r("div"),qe.textContent="Died",gt=m(),Ne=r("div"),Xe=R(a[1]),bt=m(),ie=r("div"),xt=R("Eaten: "),Ye=R(a[11]),yt=R("%, Old: "),Ze=R(a[10]),zt=R("%"),l(t,"class","absolute"),Ct(t,"top","10px"),Ct(t,"left","10px"),l(e,"class",""),l(g,"id","my-drawer"),l(g,"type","checkbox"),l(g,"class","drawer-toggle"),l(p,"class","drawer-content"),l(S,"for","my-drawer"),l(S,"class","drawer-overlay"),l(C,"class","btn btn-secondary"),l(U,"class","btn btn-secondary"),l(x,"id","show_connectors"),l(x,"type","checkbox"),l(x,"class","toggle absolute left-2"),l(le,"for","show_connectors"),l(q,"class","btn btn-accent"),l(P,"id","show_grid"),l(P,"type","checkbox"),l(P,"class","toggle absolute left-2"),l(G,"for","show_grid"),l(N,"class","btn btn-accent"),l(j,"for","my-modal"),l(j,"class","btn btn-accent"),l(y,"class","menu p-4 overflow-y-auto w-80 bg-base-100 font-bold text-white gap-2"),l(M,"class","drawer-side"),l(h,"class","h-screen drawer w-full rounded"),l($,"type","checkbox"),l($,"id","my-modal"),l($,"class","modal-toggle"),l(ce,"class","overflow-x-auto"),l(he,"class","modal-box max-w-[1600px] max-h-[800px]"),l(fe,"class","modal-action absolute top-4 right-4"),l(V,"class","modal"),l(ae,"for","my-drawer"),l(ae,"class","btn drawer-button"),l(_e,"tabindex","0"),l(_e,"class","m-1 btn btn-accent"),l(_,"type","number"),l(_,"min","1"),l(_,"max","10000"),l(_,"class","input input-bordered input-primary w-full max-w-xs"),l(i,"tabindex","0"),l(i,"class","p-2 shadow menu dropdown-content bg-base-100 rounded-box w-52"),l(ee,"class","dropdown dropdown-down"),l(ye,"class","btn btn-secondary"),l(J,"class","flex flex-row justify-left items-center gap-2 px-4"),l(re,"class","absolute top-2 w-full"),l(D,"class","range range-sm"),l(D,"type","range"),l(D,"min","1"),l(D,"max","100"),l(D,"step","1"),l(F,"class","range range-sm"),l(F,"type","range"),l(F,"min","1"),l(F,"max","100"),l(F,"step","1"),l(de,"class","absolute bottom-2 right-0 w-[500px]"),l(Se,"class","stat-title"),l(Ae,"class","stat-value"),l(pe,"class","stat w-[200px]"),l(Oe,"class","stat-title"),l(Ge,"class","stat-value"),l(me,"class","stat-desc"),l(te,"class","stat"),l(He,"class","stat-title"),l(Re,"class","stat-value"),l(ve,"class","stat"),l(qe,"class","stat-title"),l(Ne,"class","stat-value"),l(ie,"class","stat-desc"),l(se,"class","stat"),l(Q,"class","shadow stats stats-vertical"),l(ze,"class","absolute top-6 right-0")},m(u,b){L(u,e,b),s(e,t),et(o,t,null),L(u,d,b),L(u,h,b),s(h,g),s(h,k),s(h,p),s(h,v),s(h,M),s(M,S),s(M,f),s(M,y),s(y,A),s(A,C),s(y,Y),s(y,oe),s(oe,U),s(y,O),s(y,Z),s(Z,q),s(q,x),x.checked=a[5],s(q,le),s(y,ne),s(y,K),s(K,N),s(N,P),P.checked=a[4],s(N,G),s(y,Me),s(y,j),L(u,ge,b),L(u,$,b),L(u,be,b),L(u,V,b),s(V,he),s(he,ce),et(X,ce,null),s(V,Ce),s(V,fe),L(u,xe,b),L(u,re,b),s(re,J),s(J,ae),s(J,Pe),s(J,ee),s(ee,_e),s(ee,Ie),s(ee,i),s(i,n),s(n,_),we(_,a[3]),s(i,w),s(i,T),s(T,z),s(i,B),s(i,H),s(H,Le),s(i,rt),s(i,Fe),s(Fe,Ee),s(J,at),s(J,ye),L(u,We,b),L(u,de,b),s(de,D),we(D,a[8]),s(de,_t),s(de,F),we(F,a[7]),L(u,Ke,b),L(u,ze,b),s(ze,Q),s(Q,pe),s(pe,Se),s(pe,dt),s(pe,Ae),s(Ae,Je),s(Q,ut),s(Q,te),s(te,Oe),s(te,ht),s(te,Ge),s(Ge,Qe),s(te,ct),s(te,me),s(me,ft),s(me,Ue),s(me,pt),s(Q,mt),s(Q,ve),s(ve,He),s(ve,vt),s(ve,Re),s(Re,Ve),s(Q,wt),s(Q,se),s(se,qe),s(se,gt),s(se,Ne),s(Ne,Xe),s(se,bt),s(se,ie),s(ie,xt),s(ie,Ye),s(ie,yt),s(ie,Ze),s(ie,zt),W=!0,je||(kt=[I(C,"click",Kt),I(U,"click",a[19]),I(x,"change",a[24]),I(P,"change",a[25]),I(j,"click",a[20]),I(_,"input",a[26]),I(z,"click",a[15]),I(Le,"click",a[16]),I(Ee,"click",a[17]),I(ye,"click",a[18]),I(D,"change",a[27]),I(D,"input",a[27]),I(F,"change",a[28]),I(F,"input",a[28])],je=!0)},p(u,b){b[0]&32&&(x.checked=u[5]),b[0]&16&&(P.checked=u[4]);const Mt={};b[0]&4&&(Mt.rows=u[2]),X.$set(Mt),b[0]&8&&Be(_.value)!==u[3]&&we(_,u[3]),b[0]&256&&we(D,u[8]),b[0]&128&&we(F,u[7]),(!W||b[0]&64)&&ue(Je,u[6]),(!W||b[0]&1)&&ue(Qe,u[0]),(!W||b[0]&512)&&ue(Ue,u[9]),(!W||b[0]&4096)&&ue(Ve,u[12]),(!W||b[0]&2)&&ue(Xe,u[1]),(!W||b[0]&2048)&&ue(Ye,u[11]),(!W||b[0]&1024)&&ue(Ze,u[10])},i(u){W||(tt(o.$$.fragment,u),tt(X.$$.fragment,u),W=!0)},o(u){st(o.$$.fragment,u),st(X.$$.fragment,u),W=!1},d(u){u&&E(e),it(o),u&&E(d),u&&E(h),u&&E(ge),u&&E($),u&&E(be),u&&E(V),it(X),u&&E(xe),u&&E(re),u&&E(We),u&&E(de),u&&E(Ke),u&&E(ze),je=!1,qt(kt)}}}let Te=200;function Kt(){window.location.reload()}function Jt(a,e,t){let o,d,h,g;const k=[{key:"name",title:"Name",value:i=>i._name,sortable:!0},{key:"born",title:"Born",value:i=>i._born,sortable:!0},{key:"age",title:"Age",value:i=>Math.abs(x-i._born),sortable:!0},{key:"died",title:"Died",value:i=>i._died,sortable:!0},{key:"sex",title:"Sex",value:i=>i._sex,sortable:!0},{key:"rep_time",title:"Reproduction",value:i=>i._reproduce_time,sortable:!0}];let p=1e3,v=600,M=0,S=0,f=[],y=[new ke({}),new ke({})],A=0,C=0,Y=0,oe=0,U=0,O=1,Z=!1,q=!1,x=0,le=1e4,ne=30,K=1,N=p/Te,P=v/Te,G=new Array(N);for(let i=0;i<N;i++){G[i]=new Array(P);for(let n=0;n<P;n++)G[i][n]=new Array(0)}function Me(i,n,_){n.alive&&n instanceof Et&&(n.follows?i.fill(i.color("red")):n.in_recovery(_)?i.fill(i.color("blue")):i.fill(i.color(...n.color)),i.ellipse(n.position.x,n.position.y,n.size.x,n.size.y))}function j(){for(let i=0;i<G.length;i++)for(let n=0;n<G[i].length;n++)G[i][n].length=0}function ge(){j();let i,n;for(let _=0;_<f.length;_++)f[_].alive&&(i=f[_].discrete_pos_x(N,p),n=f[_].discrete_pos_y(P,v),G[i][n].push(f[_]))}function $(i,n,_){let w=n.discrete_pos_x(N,p),T=n.discrete_pos_y(P,v),z=G[w][T];for(let B=0;B<z.length;B++){let H=Math.floor(Math.random()*z.length);if(z[H]!=n){if(n.do_you_eat(z[H])){n.move_towards(z[H],_,!0);break}else if(n.followed_by==z[H]){n.move_away(z[H]);break}n.sex=="female"&&z[B].sex=="male"&&_-n.reproduced>n.reproduce_time&&n.could_you_reproduce(z[B])&&z[H].move_towards(n,_,!1)}}}function be(i,n,_,w){n.move_towards(_,w,!0),n.walk({width:p,height:v,speed_manipulator:1.1}),q&&w%K==0&&i.line(n.position.x,n.position.y,_.position.x,_.position.y);let T=n.position.x-_.position.x,z=n.position.y-_.position.y,B=Math.sqrt(T*T+z*z);n.size.x/2+_.size.x/2>=B&&n.eat(_,w)&&(t(1,C+=1),t(21,Y+=1))}function V(i,n,_,w){if(w-_.reproduced>_.reproduce_time){n.move_towards(_,w,!1),n.walk({width:p,height:v,speed_manipulator:1.1}),q&&w%K==0&&i.line(n.position.x,n.position.y,_.position.x,_.position.y);let T=n.position.x-_.position.x,z=n.position.y-_.position.y,B=Math.sqrt(T*T+z*z);if(n.size.x/2+_.size.x/2>=B){let H=_.reproduce(n,w);f.push(H),t(23,U+=1),t(0,A+=1)}}else n.follows=null}function he(i,n,_){_-n.born>n.max_age&&n.alive&&(n.die(_),t(1,C+=1),t(22,oe+=1))}const ce=i=>{i.mousePressed=()=>{i.noLoop()},i.mouseReleased=()=>{i.loop()},i.setup=()=>{M=i.windowWidth%Te,S=i.windowHeight%Te,p=i.windowWidth-M,v=i.windowHeight-S;let n=i.createCanvas(p,v);n.elt.style.zIndex=-1,i.stroke(200)},i.draw=()=>{if(i.frameRate(ne),ge(),x%K==0){if(i.background(255),Z)for(var n=0;n<=p;n+=p/N)for(var _=0;_<=v;_+=v/P)i.line(n,0,n,v),i.line(0,_,p,_);f.forEach(function(w){Me(i,w,x)})}t(6,x=i.frameCount);for(let w=0;w<f.length;w++)f[w].alive&&(f[w].follows?f[w].do_you_eat(f[w])?be(i,f[w],f[w].follows,x):V(i,f[w],f[w].follows,x):($(i,f[w],x),f[w].walk({width:p,height:v})),he(i,f[w],x));x>le&&i.noLoop()}};function X(){for(let i=0;i<O;i++)f.push(new lt({born:x}));t(0,A+=O)}function Ce(){for(let i=0;i<O;i++)f.push(new ke({born:x}));t(0,A+=O)}function fe(){for(let i=0;i<O;i++)f.push(new nt({born:x}));t(0,A+=O)}function xe(){f.forEach(function(i){i.change_direction({direction:100})})}function re(){le=x}function J(){t(2,y=f)}function ae(){q=this.checked,t(5,q)}function Pe(){Z=this.checked,t(4,Z)}function ee(){O=Be(this.value),t(3,O)}function _e(){K=Be(this.value),t(8,K)}function Ie(){ne=Be(this.value),t(7,ne)}return a.$$.update=()=>{a.$$.dirty[0]&3&&t(12,o=A-C),a.$$.dirty[0]&2097154&&t(11,d=Math.floor(Y/C*100)),a.$$.dirty[0]&4194306&&t(10,h=Math.floor(oe/C*100)),a.$$.dirty[0]&8388609&&t(9,g=Math.floor(U/A*100))},[A,C,y,O,Z,q,x,ne,K,g,h,d,o,k,ce,X,Ce,fe,xe,re,J,Y,oe,U,ae,Pe,ee,_e,Ie]}class Qt extends Pt{constructor(e){super();It(this,e,Jt,Wt,Lt,{},null,[-1,-1])}}function Ut(a){let e,t,o;return t=new Qt({}),{c(){e=r("main"),$e(t.$$.fragment)},m(d,h){L(d,e,h),et(t,e,null),o=!0},p:Nt,i(d){o||(tt(t.$$.fragment,d),o=!0)},o(d){st(t.$$.fragment,d),o=!1},d(d){d&&E(e),it(t)}}}class Vt extends Pt{constructor(e){super();It(this,e,null,Ut,Lt,{})}}new Vt({target:document.getElementById("app")});
